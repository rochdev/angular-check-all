angular.module("checkAll",[]).directive("checkAll",["$parse",function(n){function i(n,i){if(angular.isArray(n)){for(var r=0;r<n.length;r++)if(i(n[r],r))return!0}else for(var t in n)if(n.hasOwnProperty(t)&&i(n[t],t))return!0;return!1}function r(n,i){-1===n.indexOf(i)&&n.push(i)}function t(n,i){var r=n.indexOf(i);-1!==r&&n.splice(r,1)}return{restrict:"A",link:function(e,c,o){function u(){var n=h(e)||[],i=a(n),r=f(n);c.prop("indeterminate",i&&r),c.prop("checked",!r)}function a(n){return i(n,l)}function f(n){return i(n,function(n,i){return!l(n,i)})}function l(n,i){if(o.toList){var r=d(e)||[];return void 0!==o.byKey?-1!==r.indexOf(i):-1!==r.indexOf(s(n))}return s(n)}function s(n){return void 0!==o.byValue?v(n):n}var h=n(o.checkAll),v=n(o.byValue),d=n(o.toList);e.$watch(o.checkAll,u,!0),o.toList&&(e.$watch(o.toList,u,!0),e.$watch(o.checkAll,function(n,i){if(i){var r=d(e)||[];angular.forEach(i,function(i,e){void 0!==o.byKey?void 0===n[e]&&t(r,e):-1===n.indexOf(s(i))&&t(r,s(i))})}},!0)),c.on("click",function(){e.$apply(function(){var n,i=h(e)||[];if(o.toList){var t=d(e);t||d.assign(e,[]),n=!f(i),n?t.splice(0,t.length):angular.forEach(i,function(n,i){void 0!==o.byKey?r(t,i):r(t,s(n))})}else n=!f(i),angular.forEach(i,function(r,t){void 0!==o.byValue?v.assign(r,!n):i[t]=!n})})})}}}]);
//# sourceMappingURL=angular-check-all.min.js.map